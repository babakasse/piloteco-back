<?php

namespace App\Tests\Api;

use ApiPlatform\Symfony\Bundle\Test\ApiTestCase;

class UserTest extends ApiTestCase
{
    // TODO - TESTS TO IMPLEMENT AND TO IMPROVE - AFTER AUTOMATED FIXTURES
//    public function testCreateUser(): void
//    {
//        $client = static::createClient();
//        $client->request('POST', '/users', [
//            'json' => [
//                'email' => 'testuser3@example.com',
//                'firstName' => 'John',
//                'lastName' => 'Doe',
//                'plainPassword' => 'securepassword',
//                'roles' => ['ROLE_USER'],
//                'company' => '/companies/1'
//            ],
//        ]);
//
//        $this->assertResponseStatusCodeSame(201);
//        $this->assertJsonContains(['email' => 'testuser3@example.com']);
//    }

    // TODO - TESTS TO IMPLEMENT AND TO IMPROVE - AFTER AUTOMATED FIXTURES
//    public function testGetUser(): void
//    {
//        $client = static::createClient();
//        $client->request('GET', '/users/1');
//
//        $this->assertResponseStatusCodeSame(200);
//        $this->assertJsonContains(['email' => 'user1@example.com']);
//    }
//
//    public function testUpdateUser(): void
//    {
//        $client = static::createClient();
//        $client->request('PATCH', '/users/1', [
//            'json' => [
//                'firstName' => 'UpdatedName',
//            ],
//            'headers' => ['Content-Type' => 'application/merge-patch+json'],
//        ]);
//
//        $this->assertResponseStatusCodeSame(200);
//        $this->assertJsonContains(['firstName' => 'UpdatedName']);
//    }
//
//    public function testDeleteUser(): void
//    {
//        $client = static::createClient();
//        $client->request('DELETE', '/users/1');
//
//        $this->assertResponseStatusCodeSame(204);
//    }
}
